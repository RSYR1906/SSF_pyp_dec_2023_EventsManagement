<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register for Event</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container mt-4">
      <h2 class="text-center">Register for Event</h2>
      <p class="text-center">
        <strong>Event Name:</strong> <span th:text="${event.eventName}"></span>
      </p>
      <p class="text-center">
        <strong>Event Date:</strong>
        <span
          th:text="${event.eventDate != null ? #dates.format(event.eventDate, 'dd-MM-yyyy') : 'N/A'}"
        ></span>
      </p>
      <form
        method="POST"
        th:action="@{/events/register(eventId=${event.eventId})}"
        th:object="${user}"
      >
        <!-- Full Name -->
        <div class="mb-3">
          <label for="fullName" class="form-label">Full Name</label>
          <input
            type="text"
            id="fullName"
            name="fullName"
            class="form-control"
            th:field="*{fullName}"
            placeholder="Enter your full name"
          />
          <span
            class="text-danger"
            th:if="${#fields.hasErrors('fullName')}"
            th:errors="*{fullName}"
          ></span>
        </div>

        <!-- Birth Date -->
        <div class="mb-3">
          <label for="birthDate" class="form-label">Birth Date</label>
          <input
            type="date"
            id="birthDate"
            name="birthDate"
            class="form-control"
            th:field="*{birthDate}"
          />
          <span
            class="text-danger"
            th:if="${#fields.hasErrors('birthDate')}"
            th:errors="*{birthDate}"
          ></span>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            class="form-control"
            th:field="*{email}"
            placeholder="Enter your email"
          />
          <span
            class="text-danger"
            th:if="${#fields.hasErrors('email')}"
            th:errors="*{email}"
          ></span>
        </div>

        <!-- Phone Number -->
        <div class="mb-3">
          <label for="phoneNumber" class="form-label">Phone Number</label>
          <input
            type="tel"
            id="phoneNumber"
            name="phoneNumber"
            class="form-control"
            th:field="*{phoneNumber}"
            placeholder="Enter your phone number"
          />
          <span
            class="text-danger"
            th:if="${#fields.hasErrors('phoneNumber')}"
            th:errors="*{phoneNumber}"
          ></span>
        </div>

        <!-- Tickets -->
        <div class="mb-3">
          <label for="ticketAmount" class="form-label">Tickets</label>
          <input
            type="number"
            id="ticketAmount"
            name="ticketAmount"
            class="form-control"
            th:field="*{ticketAmount}"
            placeholder="Enter number of tickets"
          />
          <span
            class="text-danger"
            th:if="${#fields.hasErrors('ticketAmount')}"
            th:errors="*{ticketAmount}"
          ></span>
        </div>

        <!-- Submit Button -->
        <div class="d-grid">
          <button type="submit" class="btn btn-primary">Register</button>
        </div>
      </form>
    </div>
  </body>
</html>
